ð
nC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\TriboController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[ 
ApiController 
] 
public 

class 
TriboController  
:! "
ControllerBase# 1
{ 
private 
TriboNegocio 
_triboNegocio *
;* +
public 
TriboController 
( 
)  
{ 	
_triboNegocio 
= 
new 
TriboNegocio  ,
(, -
)- .
;. /
} 	
[## 	
HttpGet##	 
]## 
[$$ 	 
ProducesResponseType$$	 
($$ 
($$ 
int$$ "
)$$" #
HttpStatusCode$$# 1
.$$1 2
OK$$2 4
)$$4 5
]$$5 6
[%% 	 
ProducesResponseType%%	 
(%% 
(%% 
int%% "
)%%" #
HttpStatusCode%%# 1
.%%1 2
NotFound%%2 :
)%%: ;
]%%; <
public'' 
IActionResult'' 
Get''  
(''  !
)''! "
{(( 	
return)) 
Ok)) 
()) 
_triboNegocio)) #
.))# $

Selecionar))$ .
()). /
)))/ 0
)))0 1
;))1 2
}** 	
[11 	
HttpGet11	 
]11 
[22 	
Route22	 
(22 
$str22 
)22 
]22 
[33 	 
ProducesResponseType33	 
(33 
(33 
int33 "
)33" #
HttpStatusCode33# 1
.331 2
OK332 4
)334 5
]335 6
[44 	 
ProducesResponseType44	 
(44 
(44 
int44 "
)44" #
HttpStatusCode44# 1
.441 2
NotFound442 :
)44: ;
]44; <
public55 
IActionResult55 
GetId55 "
(55" #
int55# &
id55' )
)55) *
{66 	
return77 
Ok77 
(77 
_triboNegocio77 #
.77# $
SelecionarPorId77$ 3
(773 4
id774 6
)776 7
)777 8
;778 9
}88 	
[@@ 	
HttpGet@@	 
]@@ 
[AA 	
RouteAA	 
(AA 
$strAA !
)AA! "
]AA" #
[BB 	 
ProducesResponseTypeBB	 
(BB 
(BB 
intBB "
)BB" #
HttpStatusCodeBB# 1
.BB1 2
OKBB2 4
)BB4 5
]BB5 6
[CC 	 
ProducesResponseTypeCC	 
(CC 
(CC 
intCC "
)CC" #
HttpStatusCodeCC# 1
.CC1 2
NotFoundCC2 :
)CC: ;
]CC; <
publicDD 
IActionResultDD 
GetNameDD $
(DD$ %
stringDD% +
nomeDD, 0
)DD0 1
{EE 	
returnFF 
OkFF 
(FF 
_triboNegocioFF #
.FF# $
SelecionarPorNomeFF$ 5
(FF5 6
nomeFF6 :
)FF: ;
)FF; <
;FF< =
}GG 	
}JJ 
}KK á
eC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Filtros\ErroFiltro.cs
	namespace 	
Fatec
 
. 
Clinica 
. 
Api 
. 
Filtros #
{		 
public

 

class

 

ErroFiltro

 
{ 
public 
async 
Task 
Invoke  
(  !
HttpContext! ,
context- 4
,4 5
Func6 :
<: ;
Task; ?
>? @
nextA E
)E F
{ 	
try 
{ 
await 
next 
( 
) 
; 
} 
catch 
( 
	Exception 
ex 
)  
{ 
await  
HandleExceptionAsync *
(* +
context+ 2
,2 3
ex4 6
)6 7
;7 8
} 
} 	
private 
static 
Task  
HandleExceptionAsync 0
(0 1
HttpContext1 <
context= D
,D E
	ExceptionF O
	exceptionP Y
)Y Z
{ 	
HttpStatusCode 
code 
;  
switch 
( 
	exception 
) 
{ 
case "
NaoEncontradoException +
nfEx, 0
:0 1
code 
= 
HttpStatusCode )
.) *
NotFound* 2
;2 3
break   
;   
case!! 
ConflitoException!! &
nfEx!!' +
:!!+ ,
code"" 
="" 
HttpStatusCode"" )
."") *
Conflict""* 2
;""2 3
break## 
;## 
case$$ 
RecusadoException$$ &
nfEx$$' +
:$$+ ,
code%% 
=%% 
HttpStatusCode%% )
.%%) *
	Forbidden%%* 3
;%%3 4
break&& 
;&& 
default'' 
:'' 
code(( 
=(( 
HttpStatusCode(( )
.(() *
InternalServerError((* =
;((= >
break)) 
;)) 
}** 
var,, 
result,, 
=,, 
JsonConvert,, $
.,,$ %
SerializeObject,,% 4
(,,4 5
new,,5 8
{,,9 :
error,,; @
=,,A B
	exception,,C L
.,,L M
Message,,M T
,,,T U
inner,,V [
=,,\ ]
	exception,,^ g
.,,g h
InnerException,,h v
},,w x
),,x y
;,,y z
context-- 
.-- 
Response-- 
.-- 
ContentType-- (
=--) *
$str--+ =
;--= >
context.. 
... 
Response.. 
... 

StatusCode.. '
=..( )
(..* +
int..+ .
)... /
code../ 3
;..3 4
return// 
context// 
.// 
Response// #
.//# $

WriteAsync//$ .
(//. /
result/// 5
)//5 6
;//6 7
}00 	
}11 
}22 ø
ZC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Program.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
=>/ 1
BuildWebHost 
( 
args 
) 
. 
Run "
(" #
)# $
;$ %
public 
static 
IWebHost 
BuildWebHost +
(+ ,
string, 2
[2 3
]3 4
args5 9
)9 :
=>; =
WebHost 
.  
CreateDefaultBuilder (
(( )
args) -
)- .
. 

UseStartup 
< 
Startup #
># $
($ %
)% &
. 
Build 
( 
) 
; 
} 
} ´
ZC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Startup.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddMvc 
( 
) 
. #
SetCompatibilityVersion 5
(5 6 
CompatibilityVersion6 J
.J K
Version_2_1K V
)V W
;W X
services 
. 
AddCors 
( 
) 
; 
services 
. 
AddSwaggerGen "
(" #
c# $
=>% '
{   
c!! 
.!! 

SwaggerDoc!! 
(!! 
$str!! !
,!!! "
new"" 
Info"" 
{## 
Title$$ 
=$$ 
$str$$  +
,$$+ ,
Version%% 
=%%  !
$str%%" &
,%%& '
Description&& #
=&&$ %
$str&&& G
,&&G H
Contact'' 
=''  !
new''" %
Contact''& -
{(( 
Name))  
=))! "
$str))# +
,))+ ,
Url** 
=**  !
$str**" <
}++ 
},, 
),, 
;,, 
var00 
xmlFile00 
=00 
$"00  
{00  !
Assembly00! )
.00) * 
GetExecutingAssembly00* >
(00> ?
)00? @
.00@ A
GetName00A H
(00H I
)00I J
.00J K
Name00K O
}00O P
.xml00P T
"00T U
;00U V
var11 
xmlPath11 
=11 
Path11 "
.11" #
Combine11# *
(11* +

AppContext11+ 5
.115 6
BaseDirectory116 C
,11C D
xmlFile11E L
)11L M
;11M N
c22 
.22 
IncludeXmlComments22 $
(22$ %
xmlPath22% ,
)22, -
;22- .
}44 
)44 
;44 
}77 	
public:: 
void:: 
	Configure:: 
(:: 
IApplicationBuilder:: 1
app::2 5
,::5 6
IHostingEnvironment::7 J
env::K N
)::N O
{;; 	
if<< 
(<< 
env<< 
.<< 
IsDevelopment<< !
(<<! "
)<<" #
)<<# $
{== 
app>> 
.>> %
UseDeveloperExceptionPage>> -
(>>- .
)>>. /
;>>/ 0
}?? 
else@@ 
{AA 
appBB 
.BB 
UseHstsBB 
(BB 
)BB 
;BB 
}CC 
appEE 
.EE 
UseHttpsRedirectionEE #
(EE# $
)EE$ %
;EE% &
appFF 
.FF 
UseMvcFF 
(FF 
)FF 
;FF 
appII 
.II 

UseSwaggerII 
(II 
)II 
;II 
appJJ 
.JJ 
UseSwaggerUIJJ 
(JJ 
cJJ 
=>JJ !
{KK 
cLL 
.LL 
SwaggerEndpointLL !
(LL! "
$strLL" <
,LL< =
$strLL> P
)LLP Q
;LLQ R
}MM 
)MM 
;MM 
}OO 	
}PP 
}QQ 