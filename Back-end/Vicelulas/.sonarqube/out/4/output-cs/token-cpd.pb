ù%
oC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\PessoaController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[		 
ApiController		 
]		 
public

 

class

 
PessoaController

 !
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
PessoaNegocio &
_pessoaNegocio' 5
;5 6
public 
PessoaController 
(  
)  !
{ 	
_pessoaNegocio 
= 
new  
PessoaNegocio! .
(. /
)/ 0
;0 1
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public 
IActionResult 
Get  
(  !
)! "
{ 	
return   
Ok   
(   
_pessoaNegocio   $
.  $ %

Selecionar  % /
(  / 0
)  0 1
)  1 2
;  2 3
}!! 	
[(( 	
HttpGet((	 
](( 
[)) 	
Route))	 
()) 
$str)) 
))) 
])) 
[** 	 
ProducesResponseType**	 
(** 
(** 
int** "
)**" #
HttpStatusCode**# 1
.**1 2
OK**2 4
)**4 5
]**5 6
[++ 	 
ProducesResponseType++	 
(++ 
(++ 
int++ "
)++" #
HttpStatusCode++# 1
.++1 2
NotFound++2 :
)++: ;
]++; <
public,, 
IActionResult,, 
GetId,, "
(,," #
int,,# &
id,,' )
),,) *
{-- 	
var.. 
obj.. 
=.. 
_pessoaNegocio.. $
...$ %
SelecionarPorId..% 4
(..4 5
id..5 7
)..7 8
;..8 9
return00 
Ok00 
(00 
obj00 
)00 
;00 
}11 	
[88 	
HttpGet88	 
]88 
[99 	
Route99	 
(99 
$str99 
)99 
]99 
[:: 	 
ProducesResponseType::	 
(:: 
(:: 
int:: "
)::" #
HttpStatusCode::# 1
.::1 2
OK::2 4
)::4 5
]::5 6
[;; 	 
ProducesResponseType;;	 
(;; 
(;; 
int;; "
);;" #
HttpStatusCode;;# 1
.;;1 2
NotFound;;2 :
);;: ;
];;; <
public<< 
IActionResult<< 

GetIdSquad<< '
(<<' (
int<<( +
id<<, .
)<<. /
{== 	
var>> 
obj>> 
=>> 
_pessoaNegocio>> $
.>>$ % 
SelecionarPorIdSquad>>% 9
(>>9 :
id>>: <
)>>< =
;>>= >
return@@ 
Ok@@ 
(@@ 
obj@@ 
)@@ 
;@@ 
}AA 	
[HH 	
HttpGetHH	 
]HH 
[II 	
RouteII	 
(II 
$strII !
)II! "
]II" #
[JJ 	 
ProducesResponseTypeJJ	 
(JJ 
(JJ 
intJJ "
)JJ" #
HttpStatusCodeJJ# 1
.JJ1 2
OKJJ2 4
)JJ4 5
]JJ5 6
[KK 	 
ProducesResponseTypeKK	 
(KK 
(KK 
intKK "
)KK" #
HttpStatusCodeKK# 1
.KK1 2
NotFoundKK2 :
)KK: ;
]KK; <
publicLL 
IActionResultLL 
GetNameLL $
(LL$ %
stringLL% +
nomeLL, 0
)LL0 1
{MM 	
varNN 
objNN 
=NN 
_pessoaNegocioNN $
.NN$ %
SelecionarPorNomeNN% 6
(NN6 7
nomeNN7 ;
)NN; <
;NN< =
returnPP 
OkPP 
(PP 
objPP 
)PP 
;PP 
}QQ 	
}RR 
}SS í%
nC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\SquadController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[		 
ApiController		 
]		 
public

 

class

 
SquadController

  
:

! "
ControllerBase

# 1
{ 
private 
readonly 
SquadNegocio %
_squadNegocio& 3
;3 4
public 
SquadController 
( 
)  
{ 	
_squadNegocio 
= 
new 
SquadNegocio  ,
(, -
)- .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public   
IActionResult   
Get    
(    !
)  ! "
{!! 	
return"" 
Ok"" 
("" 
_squadNegocio"" #
.""# $

Selecionar""$ .
("". /
)""/ 0
)""0 1
;""1 2
}## 	
[** 	
HttpGet**	 
]** 
[++ 	
Route++	 
(++ 
$str++ 
)++ 
]++ 
[,, 	 
ProducesResponseType,,	 
(,, 
(,, 
int,, "
),," #
HttpStatusCode,,# 1
.,,1 2
OK,,2 4
),,4 5
],,5 6
[-- 	 
ProducesResponseType--	 
(-- 
(-- 
int-- "
)--" #
HttpStatusCode--# 1
.--1 2
NotFound--2 :
)--: ;
]--; <
public.. 
IActionResult.. 
GetId.. "
(.." #
int..# &
id..' )
)..) *
{// 	
var00 
obj00 
=00 
_squadNegocio00 #
.00# $
SelecionarPorId00$ 3
(003 4
id004 6
)006 7
;007 8
return22 
Ok22 
(22 
obj22 
)22 
;22 
}33 	
[:: 	
HttpGet::	 
]:: 
[;; 	
Route;;	 
(;; 
$str;; 
);; 
];; 
[<< 	 
ProducesResponseType<<	 
(<< 
(<< 
int<< "
)<<" #
HttpStatusCode<<# 1
.<<1 2
OK<<2 4
)<<4 5
]<<5 6
[== 	 
ProducesResponseType==	 
(== 
(== 
int== "
)==" #
HttpStatusCode==# 1
.==1 2
NotFound==2 :
)==: ;
]==; <
public>> 
IActionResult>> 

GetIdTribo>> '
(>>' (
int>>( +
id>>, .
)>>. /
{?? 	
var@@ 
obj@@ 
=@@ 
_squadNegocio@@ #
.@@# $ 
SelecionarPorIdTribo@@$ 8
(@@8 9
id@@9 ;
)@@; <
;@@< =
returnBB 
OkBB 
(BB 
objBB 
)BB 
;BB 
}CC 	
[JJ 	
HttpGetJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK !
)KK! "
]KK" #
[LL 	 
ProducesResponseTypeLL	 
(LL 
(LL 
intLL "
)LL" #
HttpStatusCodeLL# 1
.LL1 2
OKLL2 4
)LL4 5
]LL5 6
[MM 	 
ProducesResponseTypeMM	 
(MM 
(MM 
intMM "
)MM" #
HttpStatusCodeMM# 1
.MM1 2
NotFoundMM2 :
)MM: ;
]MM; <
publicNN 
IActionResultNN 
GetNameNN $
(NN$ %
stringNN% +
nomeNN, 0
)NN0 1
{OO 	
varPP 
objPP 
=PP 
_squadNegocioPP #
.PP# $
SelecionarPorNomePP$ 5
(PP5 6
nomePP6 :
)PP: ;
;PP; <
returnRR 
OkRR 
(RR 
objRR 
)RR 
;RR 
}SS 	
}VV 
}WW ®
nC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\TriboController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[		 
ApiController		 
]		 
public

 

class

 
TriboController

  
:

! "
ControllerBase

# 1
{ 
private 
readonly 
TriboNegocio %
_triboNegocio& 3
;3 4
public 
TriboController 
( 
)  
{ 	
_triboNegocio 
= 
new 
TriboNegocio  ,
(, -
)- .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public   
IActionResult   
Get    
(    !
)  ! "
{!! 	
return"" 
Ok"" 
("" 
_triboNegocio"" #
.""# $

Selecionar""$ .
("". /
)""/ 0
)""0 1
;""1 2
}## 	
[** 	
HttpGet**	 
]** 
[++ 	
Route++	 
(++ 
$str++ 
)++ 
]++ 
[,, 	 
ProducesResponseType,,	 
(,, 
(,, 
int,, "
),," #
HttpStatusCode,,# 1
.,,1 2
OK,,2 4
),,4 5
],,5 6
[-- 	 
ProducesResponseType--	 
(-- 
(-- 
int-- "
)--" #
HttpStatusCode--# 1
.--1 2
NotFound--2 :
)--: ;
]--; <
public.. 
IActionResult.. 
GetId.. "
(.." #
int..# &
id..' )
)..) *
{// 	
var00 
obj00 
=00 
_triboNegocio00 #
.00# $
SelecionarPorId00$ 3
(003 4
id004 6
)006 7
;007 8
return22 
Ok22 
(22 
obj22 
)22 
;22 
}33 	
[;; 	
HttpGet;;	 
];; 
[<< 	
Route<<	 
(<< 
$str<< !
)<<! "
]<<" #
[== 	 
ProducesResponseType==	 
(== 
(== 
int== "
)==" #
HttpStatusCode==# 1
.==1 2
OK==2 4
)==4 5
]==5 6
[>> 	 
ProducesResponseType>>	 
(>> 
(>> 
int>> "
)>>" #
HttpStatusCode>># 1
.>>1 2
NotFound>>2 :
)>>: ;
]>>; <
public?? 
IActionResult?? 
GetName?? $
(??$ %
string??% +
nome??, 0
)??0 1
{@@ 	
varAA 
objAA 
=AA 
_triboNegocioAA #
.AA# $
SelecionarPorNomeAA$ 5
(AA5 6
nomeAA6 :
)AA: ;
;AA; <
returnCC 
OkCC 
(CC 
objCC 
)CC 
;CC 
}DD 	
}GG 
}HH ˆ
eC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Filtros\ErroFiltro.cs
	namespace 	
Fatec
 
. 
Clinica 
. 
Api 
. 
Filtros #
{		 
public

 

class

 

ErroFiltro

 
{ 
private 
readonly 
RequestDelegate (
next) -
;- .
public 

ErroFiltro 
( 
RequestDelegate )
next* .
). /
{ 	
this 
. 
next 
= 
next 
; 
} 	
public 
async 
Task 
Invoke  
(  !
HttpContext! ,
context- 4
)4 5
{ 	
try 
{ 
await 
next 
( 
context "
)" #
;# $
} 
catch 
( 
	Exception 
ex 
)  
{ 
await  
HandleExceptionAsync *
(* +
context+ 2
,2 3
ex4 6
)6 7
;7 8
} 
} 	
private   
static   
Task    
HandleExceptionAsync   0
(  0 1
HttpContext  1 <
context  = D
,  D E
	Exception  F O
	exception  P Y
)  Y Z
{!! 	
HttpStatusCode"" 
code"" 
;""  
switch$$ 
($$ 
	exception$$ 
)$$ 
{%% 
case&& "
NaoEncontradoException&& +
nfEx&&, 0
:&&0 1
code'' 
='' 
HttpStatusCode'' )
.'') *
NotFound''* 2
;''2 3
break(( 
;(( 
case)) 
ConflitoException)) &
nfEx))' +
:))+ ,
code** 
=** 
HttpStatusCode** )
.**) *
Conflict*** 2
;**2 3
break++ 
;++ 
case,, 
RecusadoException,, &
nfEx,,' +
:,,+ ,
code-- 
=-- 
HttpStatusCode-- )
.--) *
	Forbidden--* 3
;--3 4
break.. 
;.. 
default// 
:// 
code00 
=00 
HttpStatusCode00 )
.00) *
InternalServerError00* =
;00= >
break11 
;11 
}22 
var44 
result44 
=44 
JsonConvert44 $
.44$ %
SerializeObject44% 4
(444 5
new445 8
{449 :
error44; @
=44A B
	exception44C L
.44L M
Message44M T
,44T U
inner44V [
=44\ ]
	exception44^ g
.44g h
InnerException44h v
}44w x
)44x y
;44y z
context55 
.55 
Response55 
.55 
ContentType55 (
=55) *
$str55+ =
;55= >
context66 
.66 
Response66 
.66 

StatusCode66 '
=66( )
(66* +
int66+ .
)66. /
code66/ 3
;663 4
return77 
context77 
.77 
Response77 #
.77# $

WriteAsync77$ .
(77. /
result77/ 5
)775 6
;776 7
}88 	
}99 
}:: ¯
ZC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Program.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Program 
{ 
public		 
static		 
void		 
Main		 
(		  
string		  &
[		& '
]		' (
args		) -
)		- .
=>		/ 1
BuildWebHost

 
(

 
args

 
)

 
.

 
Run

 "
(

" #
)

# $
;

$ %
public 
static 
IWebHost 
BuildWebHost +
(+ ,
string, 2
[2 3
]3 4
args5 9
)9 :
=>; =
WebHost 
.  
CreateDefaultBuilder $
($ %
args% )
)) *
. 

UseStartup 
< 
Startup 
>  
(  !
)! "
. 
Build 
( 
) 
; 
} 
} é&
ZC:\Users\lcontesini\Documents\GitHub\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Startup.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddMvc 
( 
) 
. #
SetCompatibilityVersion 5
(5 6 
CompatibilityVersion6 J
.J K
Version_2_1K V
)V W
;W X
services 
. 
AddCors 
( 
) 
; 
services 
. 
AddSwaggerGen "
(" #
c# $
=>% '
{ 
c   
.   

SwaggerDoc   
(   
$str   !
,  ! "
new!! 
Info!! 
{"" 
Title## 
=## 
$str##  +
,##+ ,
Version$$ 
=$$  !
$str$$" &
,$$& '
Description%% #
=%%$ %
$str%%& G
,%%G H
Contact&& 
=&&  !
new&&" %
Contact&&& -
{'' 
Name((  
=((! "
$str((# +
,((+ ,
Url)) 
=))  !
$str))" <
}** 
}++ 
)++ 
;++ 
var// 
xmlFile// 
=// 
$"//  
{//  !
Assembly//! )
.//) * 
GetExecutingAssembly//* >
(//> ?
)//? @
.//@ A
GetName//A H
(//H I
)//I J
.//J K
Name//K O
}//O P
.xml//P T
"//T U
;//U V
var00 
xmlPath00 
=00 
Path00 "
.00" #
Combine00# *
(00* +

AppContext00+ 5
.005 6
BaseDirectory006 C
,00C D
xmlFile00E L
)00L M
;00M N
c11 
.11 
IncludeXmlComments11 $
(11$ %
xmlPath11% ,
)11, -
;11- .
}33 
)33 
;33 
services55 
.55 
	AddScoped55 
<55 

ErroFiltro55 )
>55) *
(55* +
)55+ ,
;55, -
}66 	
public99 
void99 
	Configure99 
(99 
IApplicationBuilder99 1
app992 5
,995 6
IHostingEnvironment997 J
env99K N
,99N O
IServiceProvider99P `
serviceFactory99a o
)99o p
{:: 	
if;; 
(;; 
env;; 
.;; 
IsDevelopment;; !
(;;! "
);;" #
);;# $
{<< 
app== 
.== %
UseDeveloperExceptionPage== -
(==- .
)==. /
;==/ 0
}>> 
else?? 
{@@ 
appAA 
.AA 
UseHstsAA 
(AA 
)AA 
;AA 
}BB 
appEE 
.EE 
UseHttpsRedirectionEE #
(EE# $
)EE$ %
;EE% &
appFF 
.FF 
UseMiddlewareFF 
<FF 

ErroFiltroFF (
>FF( )
(FF) *
)FF* +
;FF+ ,
appGG 
.GG 
UseMvcGG 
(GG 
)GG 
;GG 
appJJ 
.JJ 

UseSwaggerJJ 
(JJ 
)JJ 
;JJ 
appKK 
.KK 
UseSwaggerUIKK 
(KK 
cKK 
=>KK !
{LL 
cMM 
.MM 
SwaggerEndpointMM !
(MM! "
$strMM" <
,MM< =
$strMM> P
)MMP Q
;MMQ R
}NN 
)NN 
;NN 
appSS 
.SS 
UseCorsSS 
(SS 
cSS 
=>SS 
{TT 
cUU 
.UU 
AllowAnyHeaderUU  
(UU  !
)UU! "
;UU" #
cVV 
.VV 
AllowAnyMethodVV  
(VV  !
)VV! "
;VV" #
cWW 
.WW 
AllowAnyOriginWW  
(WW  !
)WW! "
;WW" #
}XX 
)XX 
;XX 
}[[ 	
}\\ 
}]] 