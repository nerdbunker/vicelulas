‹
SC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\AutenticacaoController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{		 
[

 
Produces

 
(

 
$str

  
)

  !
]

! "
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class "
AutenticacaoController '
:( )
ControllerBase* 8
{ 
private 
readonly  
IAutenticacaoNegocio - 
_autenticacaoNegocio. B
;B C
public "
AutenticacaoController %
(% & 
IAutenticacaoNegocio& : 
_autenticacaoNegocio; O
)O P
{ 	
this 
.  
_autenticacaoNegocio %
=& ' 
_autenticacaoNegocio( <
;< =
} 	
[ 	
HttpPost	 
] 
[   	
Route  	 
(   
$str   
)   
]   
[!! 	 
ProducesResponseType!!	 
(!! 
typeof!! $
(!!$ %
	PessoaDto!!% .
)!!. /
,!!/ 0
(!!1 2
int!!2 5
)!!5 6
HttpStatusCode!!6 D
.!!D E
OK!!E G
)!!G H
]!!H I
["" 	 
ProducesResponseType""	 
("" 
("" 
int"" "
)""" #
HttpStatusCode""# 1
.""1 2
NotFound""2 :
)"": ;
]""; <
[## 	 
ProducesResponseType##	 
(## 
(## 
int## "
)##" #
HttpStatusCode### 1
.##1 2
	Forbidden##2 ;
)##; <
]##< =
public$$ 
IActionResult$$ 
Entrar$$ #
($$# $
[$$$ %
FromBody$$% -
]$$- .

LoginInput$$. 8
input$$9 >
)$$> ?
{%% 	
var&& 
obj&& 
=&&  
_autenticacaoNegocio&& *
.&&* +
Entrar&&+ 1
(&&1 2
input&&2 7
.&&7 8
Email&&8 =
,&&= >
input&&? D
.&&D E
Senha&&E J
)&&J K
;&&K L
return(( 
Ok(( 
((( 
obj(( 
)(( 
;(( 
})) 	
}11 
}22 ã
MC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\MentorController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
MentorController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
IMentorNegocio '
_mentorNegocio( 6
;6 7
public 
MentorController 
(  
IMentorNegocio  .
_mentorNegocio/ =
)= >
{ 	
this 
. 
_mentorNegocio 
=  !
_mentorNegocio" 0
;0 1
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public!! 
IActionResult!! 
Get!!  
(!!  !
)!!! "
{"" 	
return## 
Ok## 
(## 
_mentorNegocio## $
.##$ %

Selecionar##% /
(##/ 0
)##0 1
)##1 2
;##2 3
}$$ 	
}'' 
}(( Â
LC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\PapelController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[		 
ApiController		 
]		 
public

 

class

 
PapelController

  
:

  !
ControllerBase

" 0
{ 
private 
readonly 
IPapelNegocio &
_papelNegocio' 4
;4 5
public 
PapelController 
( 
IPapelNegocio ,
_papelNegocio- :
): ;
{ 	
this 
. 
_papelNegocio 
=  
_papelNegocio! .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public   
IActionResult   
Get    
(    !
)  ! "
{!! 	
return"" 
Ok"" 
("" 
_papelNegocio"" #
.""# $

Selecionar""$ .
("". /
)""/ 0
)""0 1
;""1 2
}## 	
}$$ 
}%% ÆY
MC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\PessoaController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[		 
Produces		 
(		 
$str		  
)		  !
]		! "
[

 
Route

 

(


 
$str

 '
)

' (
]

( )
[ 
ApiController 
] 
public 

class 
PessoaController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
IPessoaNegocio '
_pessoaNegocio( 6
;6 7
public 
PessoaController 
(  
IPessoaNegocio  .
_pessoaNegocio/ =
)= >
{ 	
this 
. 
_pessoaNegocio 
=  !
_pessoaNegocio" 0
;0 1
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public   
IActionResult   
Get    
(    !
)  ! "
{!! 	
return"" 
Ok"" 
("" 
_pessoaNegocio"" $
.""$ %

Selecionar""% /
(""/ 0
)""0 1
)""1 2
;""2 3
}## 	
[** 	
HttpGet**	 
]** 
[++ 	
Route++	 
(++ 
$str++ 
,++ 
Name++ 
=++ 
$str++ +
)+++ ,
]++, -
[,, 	 
ProducesResponseType,,	 
(,, 
(,, 
int,, "
),," #
HttpStatusCode,,# 1
.,,1 2
OK,,2 4
),,4 5
],,5 6
[-- 	 
ProducesResponseType--	 
(-- 
(-- 
int-- "
)--" #
HttpStatusCode--# 1
.--1 2
NotFound--2 :
)--: ;
]--; <
public.. 
IActionResult.. 
GetId.. "
(.." #
int..# &
id..' )
)..) *
{// 	
var00 
obj00 
=00 
_pessoaNegocio00 $
.00$ %
SelecionarPorId00% 4
(004 5
id005 7
)007 8
;008 9
return22 
Ok22 
(22 
obj22 
)22 
;22 
}33 	
[:: 	
HttpGet::	 
]:: 
[;; 	
Route;;	 
(;; 
$str;; 
);; 
];; 
[<< 	 
ProducesResponseType<<	 
(<< 
(<< 
int<< "
)<<" #
HttpStatusCode<<# 1
.<<1 2
OK<<2 4
)<<4 5
]<<5 6
[== 	 
ProducesResponseType==	 
(== 
(== 
int== "
)==" #
HttpStatusCode==# 1
.==1 2
NotFound==2 :
)==: ;
]==; <
public>> 
IActionResult>> 

GetIdSquad>> '
(>>' (
int>>( +
id>>, .
)>>. /
{?? 	
var@@ 
obj@@ 
=@@ 
_pessoaNegocio@@ $
.@@$ % 
SelecionarPorIdSquad@@% 9
(@@9 :
id@@: <
)@@< =
;@@= >
returnBB 
OkBB 
(BB 
objBB 
)BB 
;BB 
}CC 	
[JJ 	
HttpGetJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK !
)KK! "
]KK" #
[LL 	 
ProducesResponseTypeLL	 
(LL 
(LL 
intLL "
)LL" #
HttpStatusCodeLL# 1
.LL1 2
OKLL2 4
)LL4 5
]LL5 6
[MM 	 
ProducesResponseTypeMM	 
(MM 
(MM 
intMM "
)MM" #
HttpStatusCodeMM# 1
.MM1 2
NotFoundMM2 :
)MM: ;
]MM; <
publicNN 
IActionResultNN 
GetNameNN $
(NN$ %
stringNN% +
nomeNN, 0
)NN0 1
{OO 	
varPP 
objPP 
=PP 
_pessoaNegocioPP $
.PP$ %
SelecionarPorNomePP% 6
(PP6 7
nomePP7 ;
)PP; <
;PP< =
returnRR 
OkRR 
(RR 
objRR 
)RR 
;RR 
}SS 	
[\\ 	
HttpPut\\	 
]\\ 
[]] 	
Route]]	 
(]] 
$str]] 
)]] 
]]] 
[^^ 	 
ProducesResponseType^^	 
(^^ 
typeof^^ $
(^^$ %
Pessoa^^% +
)^^+ ,
,^^, -
(^^. /
int^^/ 2
)^^2 3
HttpStatusCode^^3 A
.^^A B
Accepted^^B J
)^^J K
]^^K L
[__ 	 
ProducesResponseType__	 
(__ 
(__ 
int__ "
)__" #
HttpStatusCode__# 1
.__1 2

BadRequest__2 <
)__< =
]__= >
[`` 	 
ProducesResponseType``	 
(`` 
(`` 
int`` "
)``" #
HttpStatusCode``# 1
.``1 2
InternalServerError``2 E
)``E F
]``F G
publicaa 
IActionResultaa 
Putaa  
(aa  !
[aa! "
	FromRouteaa" +
]aa+ ,
intaa, /
idaa0 2
,aa2 3
[aa4 5
FromBodyaa5 =
]aa= >
PessoaInputaa> I
inputaaJ O
)aaO P
{bb 	
varcc 
	objPessoacc 
=cc 
newcc 
Pessoacc  &
(cc& '
)cc' (
{dd 
Idee 
=ee 
idee 
,ee 
Nomeff 
=ff 
inputff 
.ff 
Nomeff !
,ff! "
Emailgg 
=gg 
inputgg 
.gg 
Emailgg #
,gg# $
Id_squadhh 
=hh 
inputhh  
.hh  !
	Id_squadshh! *
,hh* +
Id_papelii 
=ii 
inputii  
.ii  !
Id_papelii! )
,ii) *

Id_unidadejj 
=jj 
inputjj "
.jj" #

Id_unidadejj# -
,jj- .
	Permissaokk 
=kk 
inputkk !
.kk! "
	Permissaokk" +
,kk+ ,
Ativoll 
=ll 
truell 
}mm 
;mm 
varoo 
retornooo 
=oo 
_pessoaNegociooo (
.oo( )
Alteraroo) 0
(oo0 1
idoo1 3
,oo3 4
	objPessoaoo5 >
)oo> ?
;oo? @
returnpp 
Acceptedpp 
(pp 
retornopp #
)pp# $
;pp$ %
}qq 	
[xx 	
HttpPutxx	 
(xx 
$strxx "
)xx" #
]xx# $
[yy 	 
ProducesResponseTypeyy	 
(yy 
(yy 
intyy "
)yy" #
HttpStatusCodeyy# 1
.yy1 2
Acceptedyy2 :
)yy: ;
]yy; <
[zz 	 
ProducesResponseTypezz	 
(zz 
(zz 
intzz "
)zz" #
HttpStatusCodezz# 1
.zz1 2

BadRequestzz2 <
)zz< =
]zz= >
[{{ 	 
ProducesResponseType{{	 
({{ 
({{ 
int{{ "
){{" #
HttpStatusCode{{# 1
.{{1 2
InternalServerError{{2 E
){{E F
]{{F G
public|| 
IActionResult|| 
PutDesativar|| )
(||) *
[||* +
	FromRoute||+ 4
]||4 5
int||6 9
id||: <
)||< =
{}} 	
_pessoaNegocio 
. !
AtivarDesativarPessoa 0
(0 1
id1 3
)3 4
;4 5
return
ÄÄ 
Accepted
ÄÄ 
(
ÄÄ 
)
ÄÄ 
;
ÄÄ 
}
ÅÅ 	
[
àà 	
HttpPost
àà	 
]
àà 
[
ââ 	"
ProducesResponseType
ââ	 
(
ââ 
typeof
ââ $
(
ââ$ %
Pessoa
ââ% +
)
ââ+ ,
,
ââ, -
(
ââ. /
int
ââ/ 2
)
ââ2 3
HttpStatusCode
ââ3 A
.
ââA B
Created
ââB I
)
ââI J
]
ââJ K
[
ää 	"
ProducesResponseType
ää	 
(
ää 
(
ää 
int
ää "
)
ää" #
HttpStatusCode
ää# 1
.
ää1 2
NotFound
ää2 :
)
ää: ;
]
ää; <
[
ãã 	"
ProducesResponseType
ãã	 
(
ãã 
(
ãã 
int
ãã "
)
ãã" #
HttpStatusCode
ãã# 1
.
ãã1 2
	Forbidden
ãã2 ;
)
ãã; <
]
ãã< =
public
åå 
IActionResult
åå 
	Cadastrar
åå &
(
åå& '
[
åå' (
FromBody
åå( 0
]
åå0 1
PessoaInput
åå1 <
input
åå= B
)
ååB C
{
çç 	
var
éé 
	objPessoa
éé 
=
éé 
new
éé 
Pessoa
éé  &
(
éé& '
)
éé' (
{
èè 
Nome
êê 
=
êê 
input
êê 
.
êê 
Nome
êê !
,
êê! "
Email
ëë 
=
ëë 
input
ëë 
.
ëë 
Email
ëë #
,
ëë# $
Senha
íí 
=
íí 
$str
íí "
,
íí" #
Id_papel
ìì 
=
ìì 
input
ìì  
.
ìì  !
Id_papel
ìì! )
,
ìì) *

Id_unidade
îî 
=
îî 
input
îî "
.
îî" #

Id_unidade
îî# -
,
îî- .
Id_squad
ïï 
=
ïï 
input
ïï  
.
ïï  !
	Id_squads
ïï! *
,
ïï* +
Ativo
ññ 
=
ññ 
true
ññ 
,
ññ 
	Permissao
óó 
=
óó 
input
óó "
.
óó" #
	Permissao
óó# ,
}
ôô 
;
ôô 
var
õõ 
_id
õõ 
=
õõ 
_pessoaNegocio
õõ $
.
õõ$ %
Inserir
õõ% ,
(
õõ, -
	objPessoa
õõ- 6
)
õõ6 7
;
õõ7 8
var
ùù 
objDto
ùù 
=
ùù 
_pessoaNegocio
ùù '
.
ùù' (
SelecionarPorId
ùù( 7
(
ùù7 8
_id
ùù8 ;
)
ùù; <
;
ùù< =
return
üü 
CreatedAtRoute
üü !
(
üü! "
	routeName
üü" +
:
üü+ ,
$str
üü- :
,
üü: ;
routeValues
üü< G
:
üüG H
new
üüI L
{
üüM N
id
üüO Q
=
üüR S
objDto
üüT Z
.
üüZ [
Id
üü[ ]
}
üü^ _
,
üü_ `
value
üüa f
:
üüf g
objDto
üüh n
)
üün o
;
üüo p
}
†† 	
}
££ 
}§§ ∂Z
LC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\SquadController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[		 
Produces		 
(		 
$str		  
)		  !
]		! "
[

 
Route

 

(


 
$str

 '
)

' (
]

( )
[ 
ApiController 
] 
public 

class 
SquadController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ISquadNegocio &
_squadNegocio' 4
;4 5
public 
SquadController 
( 
ISquadNegocio ,
_squadNegocio- :
): ;
{ 	
this 
. 
_squadNegocio 
=  
_squadNegocio! .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public!! 
IActionResult!! 
Get!!  
(!!  !
)!!! "
{"" 	
return## 
Ok## 
(## 
_squadNegocio## #
.### $

Selecionar##$ .
(##. /
)##/ 0
)##0 1
;##1 2
}$$ 	
[++ 	
HttpGet++	 
]++ 
[,, 	
Route,,	 
(,, 
$str,, 
),, 
],, 
[-- 	 
ProducesResponseType--	 
(-- 
(-- 
int-- "
)--" #
HttpStatusCode--# 1
.--1 2
OK--2 4
)--4 5
]--5 6
[.. 	 
ProducesResponseType..	 
(.. 
(.. 
int.. "
).." #
HttpStatusCode..# 1
...1 2
NotFound..2 :
)..: ;
]..; <
public// 
IActionResult// 
GetPorSquadSemTribo// 0
(//0 1
)//1 2
{00 	
return11 
Ok11 
(11 
_squadNegocio11 #
.11# $$
SelecionarSquadsSemTribo11$ <
(11< =
)11= >
)11> ?
;11? @
}22 	
[99 	
HttpGet99	 
]99 
[:: 	
Route::	 
(:: 
$str:: 
,:: 
Name:: 
=:: 
$str:: *
)::* +
]::+ ,
[;; 	 
ProducesResponseType;;	 
(;; 
(;; 
int;; "
);;" #
HttpStatusCode;;# 1
.;;1 2
OK;;2 4
);;4 5
];;5 6
[<< 	 
ProducesResponseType<<	 
(<< 
(<< 
int<< "
)<<" #
HttpStatusCode<<# 1
.<<1 2
NotFound<<2 :
)<<: ;
]<<; <
public== 
IActionResult== 
GetId== "
(==" #
int==# &
id==' )
)==) *
{>> 	
var?? 
obj?? 
=?? 
_squadNegocio?? #
.??# $
SelecionarPorId??$ 3
(??3 4
id??4 6
)??6 7
;??7 8
returnBB 
OkBB 
(BB 
objBB 
)BB 
;BB 
}CC 	
[JJ 	
HttpGetJJ	 
]JJ 
[KK 	
RouteKK	 
(KK 
$strKK 
)KK 
]KK 
[LL 	 
ProducesResponseTypeLL	 
(LL 
(LL 
intLL "
)LL" #
HttpStatusCodeLL# 1
.LL1 2
OKLL2 4
)LL4 5
]LL5 6
[MM 	 
ProducesResponseTypeMM	 
(MM 
(MM 
intMM "
)MM" #
HttpStatusCodeMM# 1
.MM1 2
NotFoundMM2 :
)MM: ;
]MM; <
publicNN 
IActionResultNN 

GetIdTriboNN '
(NN' (
intNN( +
idNN, .
)NN. /
{OO 	
varPP 
objPP 
=PP 
_squadNegocioPP #
.PP# $ 
SelecionarPorIdTriboPP$ 8
(PP8 9
idPP9 ;
)PP; <
;PP< =
returnRR 
OkRR 
(RR 
objRR 
)RR 
;RR 
}SS 	
[ZZ 	
HttpGetZZ	 
]ZZ 
[[[ 	
Route[[	 
([[ 
$str[[ !
)[[! "
][[" #
[\\ 	 
ProducesResponseType\\	 
(\\ 
(\\ 
int\\ "
)\\" #
HttpStatusCode\\# 1
.\\1 2
OK\\2 4
)\\4 5
]\\5 6
[]] 	 
ProducesResponseType]]	 
(]] 
(]] 
int]] "
)]]" #
HttpStatusCode]]# 1
.]]1 2
NotFound]]2 :
)]]: ;
]]]; <
public^^ 
IActionResult^^ 
GetName^^ $
(^^$ %
string^^% +
nome^^, 0
)^^0 1
{__ 	
var`` 
obj`` 
=`` 
_squadNegocio`` #
.``# $
SelecionarPorNome``$ 5
(``5 6
nome``6 :
)``: ;
;``; <
returnbb 
Okbb 
(bb 
objbb 
)bb 
;bb 
}cc 	
[jj 	
HttpPostjj	 
]jj 
[kk 	 
ProducesResponseTypekk	 
(kk 
typeofkk $
(kk$ %
Squadkk% *
)kk* +
,kk+ ,
(kk- .
intkk. 1
)kk1 2
HttpStatusCodekk2 @
.kk@ A
CreatedkkA H
)kkH I
]kkI J
[ll 	 
ProducesResponseTypell	 
(ll 
(ll 
intll "
)ll" #
HttpStatusCodell# 1
.ll1 2

BadRequestll2 <
)ll< =
]ll= >
[mm 	 
ProducesResponseTypemm	 
(mm 
(mm 
intmm "
)mm" #
HttpStatusCodemm# 1
.mm1 2
InternalServerErrormm2 E
)mmE F
]mmF G
publicnn 
IActionResultnn 
Postnn !
(nn! "
[nn" #
FromBodynn# +
]nn+ ,

SquadInputnn- 7
inputnn8 =
)nn= >
{oo 	
varpp 
objSquadpp 
=pp 
newpp 
Squadpp $
(pp$ %
)pp% &
{qq 
Nomerr 
=rr 
inputrr 
.rr 
Nomerr !
,rr! "
	Id_Mentorss 
=ss 
inputss !
.ss! "
	Id_Mentorss" +
,ss+ ,
Id_tribott 
=tt 
inputtt  
.tt  !
Id_tribott! )
,tt) *
Ativouu 
=uu 
trueuu 
}ww 
;ww 
varyy 
idSquadyy 
=yy 
_squadNegocioyy '
.yy' (
Inseriryy( /
(yy/ 0
objSquadyy0 8
)yy8 9
;yy9 :
var{{ 
objDto{{ 
={{ 
_squadNegocio{{ &
.{{& '
SelecionarPorId{{' 6
({{6 7
idSquad{{7 >
){{> ?
;{{? @
return}} 
CreatedAtRoute}} !
(}}! "
	routeName}}" +
:}}+ ,
$str}}- 9
,}}9 :
routeValues}}; F
:}}F G
new}}H K
{}}L M
id}}N P
=}}Q R
objDto}}S Y
.}}Y Z
Id}}Z \
}}}] ^
,}}^ _
value}}` e
:}}e f
objDto}}g m
)}}m n
;}}n o
}~~ 	
[
ÜÜ 	
HttpPut
ÜÜ	 
]
ÜÜ 
[
áá 	
Route
áá	 
(
áá 
$str
áá 
)
áá 
]
áá 
[
àà 	"
ProducesResponseType
àà	 
(
àà 
typeof
àà $
(
àà$ %
Squad
àà% *
)
àà* +
,
àà+ ,
(
àà- .
int
àà. 1
)
àà1 2
HttpStatusCode
àà2 @
.
àà@ A
Accepted
ààA I
)
ààI J
]
ààJ K
[
ââ 	"
ProducesResponseType
ââ	 
(
ââ 
(
ââ 
int
ââ "
)
ââ" #
HttpStatusCode
ââ# 1
.
ââ1 2

BadRequest
ââ2 <
)
ââ< =
]
ââ= >
[
ää 	"
ProducesResponseType
ää	 
(
ää 
(
ää 
int
ää "
)
ää" #
HttpStatusCode
ää# 1
.
ää1 2!
InternalServerError
ää2 E
)
ääE F
]
ääF G
public
ãã 
IActionResult
ãã 
Put
ãã  
(
ãã  !
[
ãã! "
	FromRoute
ãã" +
]
ãã+ ,
int
ãã, /
id
ãã0 2
,
ãã2 3
[
ãã4 5
FromBody
ãã5 =
]
ãã= >

SquadInput
ãã> H
input
ããI N
)
ããN O
{
åå 	
var
çç 
objSquad
çç 
=
çç 
new
çç 
Squad
çç $
(
çç$ %
)
çç% &
{
éé 
Id
èè 
=
èè 
id
èè 
,
èè 
Nome
êê 
=
êê 
input
êê 
.
êê 
Nome
êê !
,
êê! "
	Id_Mentor
ëë 
=
ëë 
input
ëë !
.
ëë! "
	Id_Mentor
ëë" +
,
ëë+ ,
Id_tribo
íí 
=
íí 
input
íí  
.
íí  !
Id_tribo
íí! )
}
ìì 
;
ìì 
var
ïï 
retorno
ïï 
=
ïï 
_squadNegocio
ïï '
.
ïï' (
Alterar
ïï( /
(
ïï/ 0
id
ïï0 2
,
ïï2 3
objSquad
ïï4 <
)
ïï< =
;
ïï= >
return
ññ 
Accepted
ññ 
(
ññ 
retorno
ññ #
)
ññ# $
;
ññ$ %
}
óó 	
[
ûû 	
HttpPut
ûû	 
(
ûû 
$str
ûû "
)
ûû" #
]
ûû# $
[
üü 	"
ProducesResponseType
üü	 
(
üü 
(
üü 
int
üü "
)
üü" #
HttpStatusCode
üü# 1
.
üü1 2
Accepted
üü2 :
)
üü: ;
]
üü; <
[
†† 	"
ProducesResponseType
††	 
(
†† 
(
†† 
int
†† "
)
††" #
HttpStatusCode
††# 1
.
††1 2

BadRequest
††2 <
)
††< =
]
††= >
[
°° 	"
ProducesResponseType
°°	 
(
°° 
(
°° 
int
°° "
)
°°" #
HttpStatusCode
°°# 1
.
°°1 2!
InternalServerError
°°2 E
)
°°E F
]
°°F G
public
¢¢ 
IActionResult
¢¢ 
PutDesativar
¢¢ )
(
¢¢) *
[
¢¢* +
	FromRoute
¢¢+ 4
]
¢¢4 5
int
¢¢6 9
id
¢¢: <
)
¢¢< =
{
££ 	
_squadNegocio
•• 
.
•• "
AtivarDesativarSquad
•• .
(
••. /
id
••/ 1
)
••1 2
;
••2 3
return
¶¶ 
Accepted
¶¶ 
(
¶¶ 
)
¶¶ 
;
¶¶ 
}
ßß 	
}
®® 
}©©  G
LC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\TriboController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[		 
Produces		 
(		 
$str		  
)		  !
]		! "
[

 
Route

 

(


 
$str

 '
)

' (
]

( )
[ 
ApiController 
] 
public 

class 
TriboController  
:! "
ControllerBase# 1
{ 
private 
readonly 
ITriboNegocio &
_triboNegocio' 4
;4 5
public 
TriboController 
( 
ITriboNegocio ,
_triboNegocio- :
): ;
{ 	
this 
. 
_triboNegocio 
=  
_triboNegocio! .
;. /
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[   	 
ProducesResponseType  	 
(   
(   
int   "
)  " #
HttpStatusCode  # 1
.  1 2
NotFound  2 :
)  : ;
]  ; <
public"" 
IActionResult"" 
Get""  
(""  !
)""! "
{## 	
return$$ 
Ok$$ 
($$ 
_triboNegocio$$ #
.$$# $

Selecionar$$$ .
($$. /
)$$/ 0
)$$0 1
;$$1 2
}%% 	
[,, 	
HttpGet,,	 
],, 
[-- 	
Route--	 
(-- 
$str-- 
,-- 
Name-- 
=-- 
$str-- *
)--* +
]--+ ,
[.. 	 
ProducesResponseType..	 
(.. 
(.. 
int.. "
).." #
HttpStatusCode..# 1
...1 2
OK..2 4
)..4 5
]..5 6
[// 	 
ProducesResponseType//	 
(// 
(// 
int// "
)//" #
HttpStatusCode//# 1
.//1 2
NotFound//2 :
)//: ;
]//; <
public00 
IActionResult00 
GetId00 "
(00" #
int00# &
id00' )
)00) *
{11 	
var22 
obj22 
=22 
_triboNegocio22 #
.22# $
SelecionarPorId22$ 3
(223 4
id224 6
)226 7
;227 8
return44 
Ok44 
(44 
obj44 
)44 
;44 
}55 	
[== 	
HttpGet==	 
]== 
[>> 	
Route>>	 
(>> 
$str>> !
)>>! "
]>>" #
[?? 	 
ProducesResponseType??	 
(?? 
(?? 
int?? "
)??" #
HttpStatusCode??# 1
.??1 2
OK??2 4
)??4 5
]??5 6
[@@ 	 
ProducesResponseType@@	 
(@@ 
(@@ 
int@@ "
)@@" #
HttpStatusCode@@# 1
.@@1 2
NotFound@@2 :
)@@: ;
]@@; <
publicAA 
IActionResultAA 
GetNameAA $
(AA$ %
stringAA% +
nomeAA, 0
)AA0 1
{BB 	
varCC 
objCC 
=CC 
_triboNegocioCC #
.CC# $
SelecionarPorNomeCC$ 5
(CC5 6
nomeCC6 :
)CC: ;
;CC; <
returnEE 
OkEE 
(EE 
objEE 
)EE 
;EE 
}FF 	
[NN 	
HttpPostNN	 
]NN 
[OO 	 
ProducesResponseTypeOO	 
(OO 
typeofOO $
(OO$ %
TriboOO% *
)OO* +
,OO+ ,
(OO- .
intOO. 1
)OO1 2
HttpStatusCodeOO2 @
.OO@ A
CreatedOOA H
)OOH I
]OOI J
[PP 	 
ProducesResponseTypePP	 
(PP 
(PP 
intPP "
)PP" #
HttpStatusCodePP# 1
.PP1 2

BadRequestPP2 <
)PP< =
]PP= >
[QQ 	 
ProducesResponseTypeQQ	 
(QQ 
(QQ 
intQQ "
)QQ" #
HttpStatusCodeQQ# 1
.QQ1 2
InternalServerErrorQQ2 E
)QQE F
]QQF G
publicRR 
IActionResultRR 
PostRR !
(RR! "
[RR" #
FromBodyRR# +
]RR+ ,

TriboInputRR- 7
inputRR8 =
)RR= >
{SS 	
varTT 
objTriboTT 
=TT 
newTT 
TriboTT $
(TT$ %
)TT% &
{UU 
NomeVV 
=VV 
inputVV 
.VV 
NomeVV !
,VV! "
	Id_MentorWW 
=WW 
inputWW !
.WW! "
	Id_MentorWW" +
,WW+ ,
AtivoXX 
=XX 
trueXX 
}ZZ 
;ZZ 
var\\ 
idTribo\\ 
=\\ 
_triboNegocio\\ '
.\\' (
Inserir\\( /
(\\/ 0
objTribo\\0 8
)\\8 9
;\\9 :
objTribo]] 
.]] 
Id]] 
=]] 
idTribo]] !
;]]! "
return__ 
CreatedAtRoute__ !
(__! "
	routeName__" +
:__+ ,
$str__- 9
,__9 :
routeValues__; F
:__F G
new__H K
{__L M
id__N P
=__Q R
objTribo__S [
.__[ \
Id__\ ^
}___ `
,__` a
value__a f
:__f g
objTribo__h p
)__p q
;__q r
}aa 	
[ii 	
HttpPutii	 
]ii 
[jj 	
Routejj	 
(jj 
$strjj 
)jj 
]jj 
[kk 	 
ProducesResponseTypekk	 
(kk 
typeofkk $
(kk$ %
Tribokk% *
)kk* +
,kk+ ,
(kk- .
intkk. 1
)kk1 2
HttpStatusCodekk2 @
.kk@ A
AcceptedkkA I
)kkI J
]kkJ K
[ll 	 
ProducesResponseTypell	 
(ll 
(ll 
intll "
)ll" #
HttpStatusCodell# 1
.ll1 2

BadRequestll2 <
)ll< =
]ll= >
[mm 	 
ProducesResponseTypemm	 
(mm 
(mm 
intmm "
)mm" #
HttpStatusCodemm# 1
.mm1 2
InternalServerErrormm2 E
)mmE F
]mmF G
publicnn 
IActionResultnn 
Putnn  
(nn  !
[nn! "
	FromRoutenn" +
]nn+ ,
intnn, /
idnn0 2
,nn2 3
[nn4 5
FromBodynn5 =
]nn= >

TriboInputnn? I
inputnnJ O
)nnO P
{oo 	
varpp 
objTribopp 
=pp 
newpp 
Tribopp $
(pp$ %
)pp% &
{qq 
Idrr 
=rr 
idrr 
,rr 
Nomess 
=ss 
inputss 
.ss 
Nomess !
,ss! "
	Id_Mentortt 
=tt 
inputtt !
.tt! "
	Id_Mentortt" +
}uu 
;uu 
varww 
retornoww 
=ww 
_triboNegocioww '
.ww' (
Alterarww( /
(ww/ 0
idww0 2
,ww2 3
objTriboww4 <
)ww< =
;ww= >
returnxx 
Acceptedxx 
(xx 
retornoxx #
)xx# $
;xx$ %
}yy 	
[
ÄÄ 	
HttpPut
ÄÄ	 
(
ÄÄ 
$str
ÄÄ "
)
ÄÄ" #
]
ÄÄ# $
[
ÅÅ 	"
ProducesResponseType
ÅÅ	 
(
ÅÅ 
(
ÅÅ 
int
ÅÅ "
)
ÅÅ" #
HttpStatusCode
ÅÅ# 1
.
ÅÅ1 2
Accepted
ÅÅ2 :
)
ÅÅ: ;
]
ÅÅ; <
[
ÇÇ 	"
ProducesResponseType
ÇÇ	 
(
ÇÇ 
(
ÇÇ 
int
ÇÇ "
)
ÇÇ" #
HttpStatusCode
ÇÇ# 1
.
ÇÇ1 2

BadRequest
ÇÇ2 <
)
ÇÇ< =
]
ÇÇ= >
[
ÉÉ 	"
ProducesResponseType
ÉÉ	 
(
ÉÉ 
(
ÉÉ 
int
ÉÉ "
)
ÉÉ" #
HttpStatusCode
ÉÉ# 1
.
ÉÉ1 2!
InternalServerError
ÉÉ2 E
)
ÉÉE F
]
ÉÉF G
public
ÑÑ 
IActionResult
ÑÑ 
PutDesativar
ÑÑ )
(
ÑÑ) *
[
ÑÑ* +
	FromRoute
ÑÑ+ 4
]
ÑÑ4 5
int
ÑÑ6 9
id
ÑÑ: <
)
ÑÑ< =
{
ÖÖ 	
_triboNegocio
áá 
.
áá "
AtivarDesativarTribo
áá .
(
áá. /
id
áá/ 1
)
áá1 2
;
áá2 3
return
àà 
Accepted
àà 
(
àà 
)
àà 
;
àà 
}
ââ 	
}
ää 
}ãã ˘
NC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Controllers\UnidadeController.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Controllers #
{ 
[ 
Produces 
( 
$str  
)  !
]! "
[ 
Route 

(
 
$str '
)' (
]( )
[		 
ApiController		 
]		 
public

 

class

 
UnidadeController

 "
:

" #
ControllerBase

$ 2
{ 
private 
readonly 
IUnidadeNegocio (
_unidadeNegocio) 8
;8 9
public 
UnidadeController  
(  !
IUnidadeNegocio! 0
_unidadeNegocio1 @
)@ A
{ 	
this 
. 
_unidadeNegocio  
=! "
_unidadeNegocio# 2
;2 3
} 	
[ 	
HttpGet	 
] 
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
OK2 4
)4 5
]5 6
[ 	 
ProducesResponseType	 
( 
( 
int "
)" #
HttpStatusCode# 1
.1 2
NotFound2 :
): ;
]; <
public 
IActionResult 
Get  
(  !
)! "
{   	
return!! 
Ok!! 
(!! 
_unidadeNegocio!! %
.!!% &

Selecionar!!& 0
(!!0 1
)!!1 2
)!!2 3
;!!3 4
}"" 	
}## 
}$$ ¥
CC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Filtros\ErroFiltro.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Filtros 
{

 
public 

class 

ErroFiltro 
{ 
private 
readonly 
RequestDelegate (
next) -
;- .
public 

ErroFiltro 
( 
RequestDelegate )
next* .
). /
{ 	
this 
. 
next 
= 
next 
; 
} 	
public 
async 
Task 
Invoke  
(  !
HttpContext! ,
context- 4
)4 5
{ 	
try 
{ 
await 
next 
( 
context "
)" #
;# $
} 
catch 
( 
	Exception 
ex 
)  
{ 
await  
HandleExceptionAsync *
(* +
context+ 2
,2 3
ex4 6
)6 7
;7 8
} 
} 	
private!! 
static!! 
Task!!  
HandleExceptionAsync!! 0
(!!0 1
HttpContext!!1 <
context!!= D
,!!D E
	Exception!!F O
	exception!!P Y
)!!Y Z
{"" 	
HttpStatusCode## 
code## 
;##  
switch%% 
(%% 
	exception%% 
)%% 
{&& 
case'' "
NaoEncontradoException'' +
nfEx'', 0
:''0 1
code(( 
=(( 
HttpStatusCode(( )
.(() *
NotFound((* 2
;((2 3
break)) 
;)) 
case** 
ConflitoException** &
nfEx**' +
:**+ ,
code++ 
=++ 
HttpStatusCode++ )
.++) *
Conflict++* 2
;++2 3
break,, 
;,, 
case-- 
RecusadoException-- &
nfEx--' +
:--+ ,
code.. 
=.. 
HttpStatusCode.. )
...) *
	Forbidden..* 3
;..3 4
break// 
;// 
default00 
:00 
code11 
=11 
HttpStatusCode11 )
.11) *
InternalServerError11* =
;11= >
break22 
;22 
}33 
var55 
result55 
=55 
JsonConvert55 $
.55$ %
SerializeObject55% 4
(554 5
new555 8
{559 :
error55; @
=55A B
	exception55C L
.55L M
Message55M T
,55T U
inner55V [
=55\ ]
	exception55^ g
.55g h
InnerException55h v
}55w x
)55x y
;55y z
context66 
.66 
Response66 
.66 
ContentType66 (
=66) *
$str66+ =
;66= >
context77 
.77 
Response77 
.77 

StatusCode77 '
=77( )
(77* +
int77+ .
)77. /
code77/ 3
;773 4
return88 
context88 
.88 
Response88 #
.88# $

WriteAsync88$ .
(88. /
result88/ 5
)885 6
;886 7
}99 	
}:: 
};; ⁄
AC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Model\LoginInput.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Model 
{ 
public 

class 

LoginInput 
{		 
public

 
string

 
Email

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
string 
Senha 
{ 
get !
;! "
set# &
;& '
}( )
} 
} √	
BC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Model\PessoaInput.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Model 
{ 
public 

class 
PessoaInput 
{ 
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public		 
int		 
	Id_squads		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
int

 

Id_unidade

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
Id_papel 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
	Permissao 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} Û
AC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Model\SquadInput.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Model 
{ 
public 

class 

SquadInput 
{ 
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Id_tribo 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
	Id_Mentor 
{ 
get "
;" #
set$ '
;' (
}) *
} 
}		 ⁄
AC:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Model\TriboInput.cs
	namespace 	
	Vicelulas
 
. 
Api 
. 
Model 
{ 
public 

class 

TriboInput 
{ 
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
	Id_Mentor 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ÷
8C:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Program.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Program 
{ 
public		 
static		 
void		 
Main		 
(		  
string		  &
[		& '
]		' (
args		) -
)		- .
=>		/ 1
BuildWebHost

 
(

 
args

 
)

 
.

 
Run

 "
(

" #
)

# $
;

$ %
public 
static 
IWebHost 
BuildWebHost +
(+ ,
string, 2
[2 3
]3 4
args5 9
)9 :
=>; =
WebHost 
.  
CreateDefaultBuilder $
($ %
args% )
)) *
. 

UseStartup 
< 
Startup 
>  
(  !
)! "
. 
Build 
( 
) 
; 
} 
} £*
8C:\vicelulas\Back-end\Vicelulas\Vicelulas.Api\Startup.cs
	namespace 	
	Vicelulas
 
. 
Api 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddMvc 
( 
) 
. #
SetCompatibilityVersion 5
(5 6 
CompatibilityVersion6 J
.J K
Version_2_1K V
)V W
;W X
services 
. 
AddCors 
( 
) 
; 
services!! 
.!! 
AddSwaggerGen!! "
(!!" #
c!!# $
=>!!% '
{"" 
c## 
.## 

SwaggerDoc## 
(## 
$str## !
,##! "
new$$ 
Info$$ 
{%% 
Title&& 
=&& 
$str&&  +
,&&+ ,
Version'' 
=''  !
$str''" &
,''& '
Description(( #
=(($ %
$str((& G
,((G H
Contact)) 
=))  !
new))" %
Contact))& -
{** 
Name++  
=++! "
$str++# +
,+++ ,
Url,, 
=,,  !
$str,," <
}-- 
}.. 
).. 
;.. 
var22 
xmlFile22 
=22 
$"22  
{22  !
Assembly22! )
.22) * 
GetExecutingAssembly22* >
(22> ?
)22? @
.22@ A
GetName22A H
(22H I
)22I J
.22J K
Name22K O
}22O P
.xml22P T
"22T U
;22U V
var33 
xmlPath33 
=33 
Path33 "
.33" #
Combine33# *
(33* +

AppContext33+ 5
.335 6
BaseDirectory336 C
,33C D
xmlFile33E L
)33L M
;33M N
c44 
.44 
IncludeXmlComments44 $
(44$ %
xmlPath44% ,
)44, -
;44- .
}66 
)66 
;66 
services88 
.88 
	AddScoped88 
<88 

ErroFiltro88 )
>88) *
(88* +
)88+ ,
;88, -
RegisterServices99 
(99 
services99 %
)99% &
;99& '
};; 	
public>> 
void>> 
	Configure>> 
(>> 
IApplicationBuilder>> 1
app>>2 5
,>>5 6
IHostingEnvironment>>7 J
env>>K N
,>>N O
IServiceProvider>>P `
serviceFactory>>a o
)>>o p
{?? 	
if@@ 
(@@ 
env@@ 
.@@ 
IsDevelopment@@ !
(@@! "
)@@" #
)@@# $
{AA 
appBB 
.BB %
UseDeveloperExceptionPageBB -
(BB- .
)BB. /
;BB/ 0
}CC 
elseDD 
{EE 
appFF 
.FF 
UseHstsFF 
(FF 
)FF 
;FF 
}GG 
appII 
.II 
UseCorsII 
(II 
cII 
=>II 
{JJ 
cKK 
.KK 
AllowAnyHeaderKK  
(KK  !
)KK! "
;KK" #
cLL 
.LL 
AllowAnyMethodLL  
(LL  !
)LL! "
;LL" #
cMM 
.MM 
AllowAnyOriginMM  
(MM  !
)MM! "
;MM" #
cNN 
.NN 
DisallowCredentialsNN %
(NN% &
)NN& '
;NN' (
}PP 
)PP 
;PP 
appSS 
.SS 
UseHttpsRedirectionSS #
(SS# $
)SS$ %
;SS% &
appTT 
.TT 
UseMiddlewareTT 
<TT 

ErroFiltroTT (
>TT( )
(TT) *
)TT* +
;TT+ ,
appUU 
.UU 
UseMvcUU 
(UU 
)UU 
;UU 
appXX 
.XX 

UseSwaggerXX 
(XX 
)XX 
;XX 
appYY 
.YY 
UseSwaggerUIYY 
(YY 
cYY 
=>YY !
{ZZ 
c[[ 
.[[ 
SwaggerEndpoint[[ !
([[! "
$str[[" <
,[[< =
$str[[> P
)[[P Q
;[[Q R
}\\ 
)\\ 
;\\ 
}^^ 	
void`` 
RegisterServices`` 
(`` 
IServiceCollection`` 0
services``1 9
)``9 :
{aa 	
newbb #
RootServiceBootStrapperbb '
(bb' (
)bb( )
.bb) * 
ChildServiceRegisterbb* >
(bb> ?
servicesbb? G
)bbG H
;bbH I
}cc 	
}ee 
}ff 